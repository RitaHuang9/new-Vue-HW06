import{_ as b,a as f,r as a,o as v,c as w,d as e,b as o,w as x,n as m}from"./index-573c7d60.js";const g={data(){return{url:"https://vue3-course-api.hexschool.io/v2/",api_path:"rita009",user:{username:"",password:""}}},methods:{login(){const l=this;f.post(`${this.url}admin/signin`,this.user).then(function(s){const{token:r,expired:i}=s.data;document.cookie=`rita009=${r}; expires=${i}`,l.$router.push({name:"dashboard"})}).catch(s=>{alert(s.data.message)})}}},k={class:"container mt-3"},y={class:"login w-75 mx-auto pt-5"},V={class:"main-block main-bg",style:{"flex-direction":"column"}},E={class:"row justify-content-center"},F=e("h1",{class:"h3 mb-3 text-center"},"請先登入",-1),B={class:"my-5 row justify-content-center w-100"},C={class:"mb-3"},$=e("label",{for:"email",class:"form-label"},"Email",-1),j={class:"mb-3"},q=e("label",{for:"password",class:"form-label"},"密碼",-1),M=e("div",{class:"text-end"},[e("button",{type:"submit",class:"btn btn-lg btn-primary w-50 mt-3 d-block mx-auto"}," 登入 ")],-1);function N(l,s,r,i,t,u){const c=a("Field"),_=a("ErrorMessage"),p=a("error-message"),h=a("Form");return v(),w("div",k,[e("div",y,[e("div",V,[e("div",E,[F,e("div",B,[o(h,{ref:"form",onSubmit:u.login},{default:x(({errors:d})=>[e("div",C,[$,o(c,{id:"email",name:"email",type:"email",class:m(["form-control",{"is-invalid":d.email}]),placeholder:"請輸入 Email",rules:"required|email",modelValue:t.user.username,"onUpdate:modelValue":s[0]||(s[0]=n=>t.user.username=n)},null,8,["class","modelValue"]),o(_,{name:"email",class:"invalid-feedback"})]),e("div",j,[q,o(c,{id:"password",name:"密碼",type:"password",class:m(["form-control",{"is-invalid":d.密碼}]),placeholder:"請輸入密碼",rules:"required",modelValue:t.user.password,"onUpdate:modelValue":s[1]||(s[1]=n=>t.user.password=n)},null,8,["class","modelValue"]),o(p,{name:"密碼",class:"invalid-feedback"})]),M]),_:1},8,["onSubmit"])])])])])])}const U=b(g,[["render",N]]);export{U as default};
